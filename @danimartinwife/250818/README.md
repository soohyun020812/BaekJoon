### 문제 분류 
> 유형 : ```구현(Implementation)``` + ```시뮬레이션(Simulation)``` + ```그래프 탐색(BFS/DFS)``` <br>
> 특징 : 파괴 후 생기는 **클러스터를 탐색하고 중력 적용**하는 것이 핵심

### 문제 이해 
> 동굴에서 막대기를 던져 미네랄(```x```)를 부수고 그 결과 떠 있는 클러스터가 있으면 바닥까지 떨어트림 <br>
> 최종적으로 **모든 막대기를 던진 뒤 동굴의 상태**를 물어보는 것

입력
- 동굴 크기 (R, C)
- 동굴 상태 ('.'=빈칸, 'x'=미네랄)
- 막대 던진 횟수 (N)
- 각 턴마다 막대 던진 높이 정보

출력
- 모든 시뮬레이션이 끝난 후 최종 동굴 상태

### 시뮬레이션 흐름도
```
┌───────────────────────────┐
│ 1. 입력 처리              │
│   - R, C, cave[][]        │
│   - N, throws[]           │
└───────────────────────────┘
              │
              ▼
┌───────────────────────────┐
│ 2. for turn in 0..N-1     │
│    (막대기 시뮬레이션)     │
└───────────────────────────┘
              │
              ▼
┌───────────────────────────┐
│ 3. 해당 줄에서 'x' 제거    │
│    - 홀수턴: 왼→오         │
│    - 짝수턴: 오→왼         │
└───────────────────────────┘
              │
              ▼
┌───────────────────────────┐
│ 4. BFS/DFS로 클러스터 탐색 │
│    - 바닥과 연결X → 떠있음 │
└───────────────────────────┘
              │
              ▼
┌───────────────────────────┐
│ 5. 떠 있는 클러스터 있으면 │
│    최대 낙하 거리 계산 후  │
│    클러스터 내리기         │
└───────────────────────────┘
              │
              ▼
┌───────────────────────────┐
│ 6. 모든 막대 끝나면       │
│    최종 cave[][] 출력     │
└───────────────────────────┘
```

### 의사코드
```python
for turn in 0..N-1:
    row = R - throws[turn]
    
    # 1. 막대 던지기
    if turn % 2 == 0:  # 왼 → 오
        for c in 0..C-1:
            if cave[row][c] == 'x':
                cave[row][c] = '.'
                break
    else:              # 오 → 왼
        for c in C-1..0:
            if cave[row][c] == 'x':
                cave[row][c] = '.'
                break
    
    # 2. 클러스터 탐색
    visited = 초기화
    clusters = []
    for r, c in cave:
        if cave[r][c] == 'x' and not visited[r][c]:
            cluster = BFS(r, c)
            if 바닥에 닿지 않으면 clusters.append(cluster)
    
    # 3. 중력 적용
    if clusters:
        cluster = clusters[0]
        cave에서 제거
        fall_dist = 가능한 최대 거리
        cluster 좌표 아래로 이동
        cave에 반영
```

### 핵심 접근법
| 핵심 접근법 항목    | 세부 내용                                               |
| ------------ | --------------------------------------------------- |
| **막대기 처리**   | 홀수턴은 왼→오, 짝수턴은 오→왼으로 진행, 가장 먼저 만나는 `'x'`를 제거        |
| **클러스터 판별**  | BFS/DFS로 연결된 미네랄 묶음 탐색 → **바닥에 닿아있지 않으면 떠 있는 클러스터** |
| **중력 적용**    | 클러스터 전체를 한 칸씩 내려보며 충돌 검사 → 최대한 떨어뜨린 뒤 동굴에 재배치       |
| **반복 시뮬레이션** | 매 턴마다 “막대 던지기 → 클러스터 판별 → 중력 적용”을 반복하여 최종 상태 도출     |


